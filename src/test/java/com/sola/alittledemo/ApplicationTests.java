package com.sola.alittledemo;

import com.sola.alittledemo.client.search.AlbumResp;
import com.sola.alittledemo.client.search.SearchClient;
import com.sola.alittledemo.client.search.SongResp;
import com.sola.alittledemo.config.RetrofitConfig;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import java.io.IOException;

@RunWith(SpringRunner.class)
@SpringBootTest
public class ApplicationTests {

    private final Logger log = LoggerFactory.getLogger(RetrofitConfig.class);

    @Autowired
    private SearchClient searchClient;

    private final String AUTHORIZATION = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOjI2MSwicGVybWlzc2lvbnMiOlsic3BlY2lhbC9zcGVjaWFsX3BlbGliIiwiY2F0YWxvZyIsInByby9wcm8taW4tY2hlY2tzb25nIiwidWdjL3VnY19uZXciLCJzb25nL3Nvbmdfc2VwYXJhdGUiLCJwcm8vcHJvLWluLW5ld3NvbmciLCJhbGJ1bS9hbGJ1bV9leHBvcnQiLCJzcGVjaWFsL3NwZWNpYWxfdmFyaWV0eSIsInVnYyIsInRvcC90b3Bfa2FyYWthbF9hbGwiLCJ0YWcvdGFnX3RyZWUvdGFnX3RyZWVfYmF0Y2hzdWJtaXQiLCJxdWFsaXR5X2NvbnRlbnQvcXVhbGl0eS1hbGJ1bS9xdWFsaXR5X2FsYnVtX2VkaXQiLCJwcm8vcHJvLWluLWNoZWNrYXJ0aXN0IiwidGFnL3RhZ19tYW5hZ2UvdGFnX21hbmFnZV9kaXNhYmxlIiwic29uZy9zb25nX29mZmxpbmUiLCJ3b3Jrcy93b3Jrc19uZXciLCJhcnRpc3QvYXJ0aXN0X2FsYnVtX2V4cG9ydCIsInRhZy90YWdfdHJlZS90YWdfdHJlZV9lZGl0Iiwic29uZy9zb25nX21lcmdlIiwicHJvL3VjX3Byb2plY3RfbmV3Iiwic29uZyIsInRvcC9zb25nX2xhY2siLCJ1Z2MvdWdjX29mZmxpbmUiLCJhbGJ1bS9hbGJ1bV9zYXZlIiwicXVhbGl0eV9jb250ZW50L3F1YWxpdHktc29uZyIsImNhdGFsb2cvY2F0YWxvZy1oYW5kL2NhdGFsb2dfYnRuIiwic3BlY2lhbG9ubGluZSIsInNvbmcvc29uZ19zYXZlIiwidGFnL3RhZ190cmVlL3RhZ190cmVlX2FkZCIsImdhcmJhZ2UvZ2FyYmFnZS1zb25nL2V4cG9ydCIsImFydGlzdC9hcnRpc3Rfc29uZ19leHBvcnQiLCJ0b3AvdG9wX2RheSIsImFydGlzdC9hcnRpc3Rfc2VwYXJhdGUiLCJ0YWdrbm93bGVkZ2UiLCJtdi9tdl9leHBvcnQiLCJ0YWcvdGFnX21hbmFnZS90YWdfbWFuYWdlX2NsaWNrIiwiY29tbWVudC9jb21tZW50LXNvbmdmb3JtIiwic29uZy9zb25nX3RhZ2dpbmciLCJxdWFsaXR5X2NvbnRlbnQvcXVhbGl0eV9leHBvcnQiLCJzb25nL3Nvbmdfb25saW5lIiwic3BlY2lhbC9zcGVjaWFsX3R2ZmlsbSIsInNvbmcvc29uZ19hc3NpZ24iLCJ0YWcvdGFnX21hbmFnZS90YWdfbWFuYWdlX2ltcG9ydCIsImNvbW1lbnQvY29tbWVudC1hbGJ1bSIsInVjL3VjX2F1dGhvcml0eSIsIndvcmtzIiwiYWxidW0vYWxidW1fYXNzaWduIiwidGFnL3RhZ190cmVlIiwiYXJ0aXN0IiwidGFnL3RhZ2dpbmciLCJtdi9tdl9zdWJtaXQiLCJhbGJ1bS9hbGJ1bV9wYXNzIiwidGFna25vd2xlZGdlL3RhZ2tub3dsZWRnZV9lZGl0IiwidG9wIiwidGFnL3RhZ190cmVlL3RhZ190cmVlX3JlbW92ZSIsImFsYnVtL2FsYnVtX2Zsb3ciLCJqaXV0aWFuX3NvbmdfZm9ybSIsInRhZy90YWdfbWFuYWdlIiwicmVpc3N1ZSIsInNvbmcvc29uZ19leHBvcnQiLCJtdi9tdl9pbXBvcnQiLCJwcm8vcHJvLWluLXByZWNhdGFsb2ciLCJzb25nL3NvbmdfZmxvdyIsInF1YWxpdHlfY29udGVudC9xdWFsaXR5LXNvbmcvcXVhbGl0eV9zb25nX2VkaXQiLCJnYXJiYWdlL2dhcmJhZ2Utc29uZy9lZGl0IiwiYXJ0aXN0L2FydGlzdF9leHBvcnQiLCJhcnRpc3QvYXJ0aXN0X2ltcG9ydCIsImFydGlzdC9hcnRpc3RfcGFzcyIsIndvcmtzL3dvcmtzX2VkaXQiLCJ0YWcvdGFnX3RyZWUvdGFnX3RyZWVfc3VibWl0IiwiYXJ0aXN0L2FydGlzdF9hc3NpZ24iLCJhbGJ1bS9hbGJ1bV9tZXJnZSIsInRhZy90YWdfbWFwcGluZy90YWdfbWFwcGluZ19kZXRhaWwiLCJ0b3Avb3JpZ2luYWwvb3JpZ2luYWxfY2hlY2siLCJhdGFncyIsInRhZy90YWdfbWFwcGluZyIsImFsYnVtL2FsYnVtX2ltcG9ydCIsImNoYXJ0cy9jaGFydHNfY2F0Y2giLCJhcnRpc3QvYXJ0aXN0X2Zsb3ciLCJjaGFydHMiLCJhcnRpc3QvYXJ0aXN0X3NhdmUiLCJjb21tZW50L2NvbW1lbnQtc29uZyIsInByby9wcm8taW4tY2hlY2thbGJ1bSIsInRhZy90YWdfbWFuYWdlL3RhZ19tYW5hZ2VfcGFzcyIsImdhcmJhZ2UvZ2FyYmFnZS1zb25nIiwidGFnL3F1YWxpdHktdGFnIiwidWMiLCJxdWFsaXR5X2NvbnRlbnQvcXVhbGl0eV9pbXBvcnQiLCJtdi9tdl9lZGl0IiwibXYvbXZfZGV0YWlsIiwiYXRhZ3MvYXRhZ3Mtam9icyIsInNwZWNpYWwvc3BlY2lhbF9jb250ZW50bGliIiwidG9wL3RvcF93ZWVrL3RvcF93ZWVrX2V4cG9ydCIsInByby9wcm8taW4tcHJvamVjdGNlbnRlci9wcm9fY3JlYXRlIiwicHJvL3Byby1pbi1wcm9qZWN0Y2VudGVyIiwidGFnIiwicHJvL3VjX3Byb2plY3RfZnpyIiwidG9wL3RvcF9kYXkvdG9wX2RheV9leHBvcnQiLCJ0YWcvdGFnX21hcHBpbmcvdGFnX21hcHBpbmdfZWRpdCIsImFydGlzdC9hcnRpc3RfYWxidW1fbWVyZ2UiLCJwcm8vcHJvLWluLWV4YW1pbmUiLCJzb25nL3NvbmdfaW1wb3J0IiwidWdjL3VnY19lZGl0IiwibXYvbXZfYXNzaWduIiwiYWxidW0vYWxidW1fc2VwYXJhdGUiLCJnYXJiYWdlIiwibXYiLCJ0YWcvdGFnX3RyZWUvdGFnX3RyZWVfZGV0YWlsIiwicHJvIiwiYXRhZ3MvYXRhZ3MtdGFncyIsIndvcmtzL3dvcmtzX3N1Ym1pdCIsImNvbW1lbnQvY29tbWVudF9zYXZlIiwicXVhbGl0eV9jb250ZW50IiwidGFnL3RhZ190cmVlL3RhZy90YWdfdHJlZS9kZXRhaWxfd2Vic2l0ZSIsImNhdGFsb2cvY2F0YWxvZy1oYW5kIiwiYXJ0aXN0L2FydGlzdF9tZXJnZSIsInNwZWNpYWwvc3BlY2lhbF9nYW1lbGliIiwidGFnL3RhZ19tYW5hZ2UvdGFnX21hbmFnZV9iYXRjaHBhc3MiLCJ3b3Jrcy93b3Jrc19kZXRhaWwiLCJ0b3Avb3JpZ2luYWwiLCJxdWFsaXR5X2NvbnRlbnQvcXVhbGl0eS1hcnRpc3QvcXVhbGl0eV9hcnRpc3RfZWRpdCIsInRhZy90YWdfbWFuYWdlL3RhZ19tYW5hZ2VfZGVmYXVsdCIsInNwZWNpYWwvc3BlY2lhbC1zb25nIiwidGFnL3RhZ19zb25nIiwidGFnL3RhZ19yZWxhdGlvbnNoaXAiLCJzb25nX2Zvcm0iLCJzb25nL3NvbmdfcG9zdCIsInJvb3QiLCJwcm8vcHJvX2luX212VGFzayIsImFsYnVtL2FsYnVtX3Bvc3QiLCJ1Yy91Yy1kaWN0aW9uYXJ5IiwibXYvbXZfbWVyZ2UiLCJ0b3AvdG9wX3dlZWsiLCJxdWFsaXR5X2NvbnRlbnQvcXVhbGl0eS1hbGJ1bSIsInRvcC9zb25nX2xhY2svc29uZ19sYWNrX2ltcG9ydCIsImdhcmJhZ2UvZ2FyYmFnZS1zb25nL2ltcG9ydCIsInRhZy90YWdfbWFuYWdlL3RhZ19tYW5hZ2VfZXhwb3J0IiwiYWxidW0iLCJ1Yy91Yy10aW1ldGFzayIsImdhcmJhZ2UvZ2FyYmFnZS1zb25nL2RlbGV0ZSIsInRvcC9zb25nX2xhY2svc29uZ19sYWNrX2V4cG9ydCIsImFydGlzdC9hcnRpc3RfYWxsIiwiYXJ0aXN0L2FydGlzdF9uZXciLCJxdWFsaXR5X2NvbnRlbnQvcXVhbGl0eV9jb250ZW50X2RlbGV0ZSIsIm12L212X25ldyIsInNwZWNpYWwiLCJnYXJiYWdlL2dhcmJhZ2Utc29uZy9kZWxldGVfYmF0Y2giLCJ1Z2MvdWdjX29ubGluZSIsInRhZ2tub3dsZWRnZS90YWdrbm93bGVkZ2VfaW5mbyIsInF1YWxpdHlfY29udGVudC9xdWFsaXR5LWFydGlzdCIsInRhZy90YWdfa25vd2xlZGdlIiwicHJvL3Byby1pbi1oYW5kY2F0YWxvZyIsImFydGlzdC9hcnRpc3RfcG9zdCIsImNvbW1lbnQiLCJhbGJ1bS9hbGJ1bV9uZXciLCJzb25nL3NvbmdfbmV3IiwidGFnL3RhZ19tYW5hZ2UvdGFnX21hbmFnZV91bmNsaWNrIl0sInJvbGVzIjpbIuezu+e7n+euoeeQhuWRmCJdLCJpc3MiOiJLYXJha2Fs5bmz5Y+w6L+Q6JCl6YOoIiwiY3RpbWUiOjE1MzY1NTkyOTg0MDAsInVzZXIiOnsiY3RpbWUiOjE1MjA4MzkwMjQwMDAsImVtYWlsIjoic29sYXNqQHFxLmNvbSIsImlkIjoyNjEsImxvY2tTdGF0dXMiOjAsIm5hbWUiOiLoi4/mjbciLCJwYXNzd29yZCI6IjMxZDFkYjljYzI1NzlmMGUxNjRlY2JhMjFkYmUzYTg0IiwicHdkQ3RpbWUiOjE1MzQzMTIwNjMwMDAsInB3ZEV0aW1lIjoxNTQyMDg4MDYzMDAwLCJzYWx0IjoiZWFkOWRiMzE4YTA1NDQ3ZGFkOTFjNjU0ODg4ZTMzYTkiLCJzdGF0dXMiOjEsInR5cGUiOjEsInVzZXJuYW1lIjoic3VqaWUiLCJ1dGltZSI6MTUzNDMxMjA2MzAwMH0sInV1aWQiOiJkNmNjYzk4Mi00N2QwLTQwNjctYmM3OS1iNjY3ZmI5YjE3ODEifQ==.3409d0d536c1438205047868f15ee92a8f7b3790905c439bf15cfb8d61cd5371";

    @Test
    public void contextLoads() {
        try {
            String data = "{\"pageNo\":1,\"pageSize\":50,\"isolated\":0}";
            SongResp songList = searchClient.listSong(data, null).execute().body();
            AlbumResp albumList = searchClient.listAlbum(data, AUTHORIZATION).execute().body();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

}
